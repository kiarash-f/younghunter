import{b as i,i as k,j as e,G as w,l as c,r as g,a as p,L as b,k as f,N,H as S,m as C,D as m,n as A,S as h,T as O,O as $,o as G,p as I,P as L}from"./index-rI_LznV3.js";import{S as P}from"./ScrollButton-DxCtZtQm.js";function z(){const{language:a}=i(),{sortOption:l,setSortOption:r}=k();return e.jsxs("select",{name:"preferSearch",className:"appearance-none text-xs font-semibold px-3 md:w-40 border border-gray-400 focus:ring-transparent focus:border-gray-400 focus:outline-none rounded-xl shadow-md shadow-slate-800 transition-all duration-300 dark:bg-inherit dark:[&>option]:bg-zinc-950 w-full dark:text-neutral-200 dark:border dark:border-gray100",value:l,onChange:s=>r(s.target.value),children:[e.jsx("option",{value:"new",children:a==="en"?"Based on Newest":"براساس جدید ترین"}),e.jsx("option",{value:"old",children:a==="en"?"Based on Oldest":"براساس قدیمی ترین"})]})}function j(a){return w({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"},child:[]}]})(a)}function _(){const{value:a,setValue:l,handleSearch:r}=c(),{language:s}=i();return e.jsxs("div",{className:"flex items-center justify-center w-[50%] mx-auto md:flex-row flex-col-reverse md:gap-x-14 mb-1.5",children:[e.jsx(z,{}),e.jsxs("div",{className:"md:w-[50%] w-full relative mx-auto",children:[e.jsx("input",{type:"text",placeholder:`${s==="en"?"Search...":"جستجو ..."}`,className:"my-2 rounded-xl w-full bg-neutral-200 text-black hover:border-blue-500 focus:border-blue-500  transition-all duration-300 ease-out  focus:shadow-slate-950 focus:shadow-md placeholder-black placeholder-opacity-70 dark:bg-neutral-200 dark:placeholder-white dark:placeholder-opacity-60 shadow-md shadow-slate-900 dark:bg-transparent dark:border dark:border-gray-100 dark:text-neutral-200",value:a,onChange:t=>{l(t.target.value),r()}}),e.jsx("button",{className:`absolute top-2 py-1.5  dark:text-neutral-200 ${s==="en"?"right-1 rounded-r-lg":"left-1 rounded-l-xl"}`,children:e.jsx(j,{className:"size-7"})})]})]})}const y=g.createContext(),B=({children:a})=>{const[l,r]=g.useState(null),s=n=>{r(n)},t=()=>{r(null)};return e.jsx(y.Provider,{value:{openSubAlbumId:l,openAccordion:s,closeAccordion:t},children:a})},M=()=>g.useContext(y);function E(){const{albums:a,isLoading:l,isError:r,error:s}=p(),{openSubAlbumId:t,openAccordion:n,closeAccordion:u}=M(),x=o=>{n(o===t?null:o)},d="flex items-center transition-all duration-300 bg-gray-300 dark:bg-gray-700 dark:text-neutral-200 py-2 rounded-md";return l?e.jsx(b,{}):r?f.error(s.response.data.message):a.map(o=>e.jsx("li",{className:"",children:e.jsx(N,{onClick:()=>x(o._id),className:o._id===t?`${d} !bg-gray-500 hover:!bg-gray-600 text-black dark:!bg-gray-900 dark:!text-neutral-200 dark:hover:!bg-gray-950`:`${d} hover:bg-gray-400 dark:hover:bg-gray-800`,children:e.jsx(H,{album:o,openSubAlbumId:t,onClose:u})})},o._id))}const H=({album:a,openSubAlbumId:l,onClose:r})=>{const{language:s}=i(),t=a._id===l;return e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("div",{className:"flex items-center justify-between px-4",children:[e.jsx("span",{children:`${s==="en"?a.title.en:a.title.fa}`}),e.jsx("button",{onClick:()=>r(),children:e.jsx(S,{className:"text-lg",style:{transform:t?"rotate(180deg)":"rotate(0deg)"}})})]}),e.jsx(T,{album:a,isOpen:t,onClose:r,language:s})]})},T=({album:a,isOpen:l,onClose:r,language:s})=>{const{setIsOpen:t}=c();return e.jsx("div",{className:`${l?"flex flex-col w-[95%] mx-auto mt-1 transition duration-300":"hidden"}`,children:a.subAlbums.map(n=>e.jsx("div",{className:"w-full bg-gray-300 text-black rounded-md px-4 mt-1 hover:bg-gray-400 py-1 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-800",onClick:()=>r(),children:e.jsx(C,{to:`/albums/${a._id}/sub-albums/${n._id}`,className:"flex items-center justify-start w-full",onClick:()=>t(!1),children:`${s==="en"?n.title.en:n.title.fa}`})},n._id))})};function D(){const{isLoading:a,isError:l,error:r}=p(),{isOpen:s,setIsOpen:t,value:n,setValue:u,handleSearch:x}=c(),{direction:d,language:o}=i();return l?f.error(r.response.data.message):e.jsx("div",{className:"flex flex-col",children:e.jsxs(m,{open:s,onClose:()=>t(!1),position:`${d==="ltr"?"right":"left"}`,className:"dark:bg-zinc-950 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between w-64 mx-auto",children:[e.jsx("button",{className:"rounded-md p-1 hover:bg-gray-200",onClick:()=>t(!1),children:e.jsx(A,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})}),e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"/logo demo.jpg",alt:"",className:"w-10"})})]}),e.jsxs("div",{className:"w-64 relative mx-auto",children:[e.jsx("input",{type:"text",placeholder:`${o==="en"?"Search...":"جستجو ..."}`,className:"my-2 rounded-xl w-full bg-gray-800 text-white hover:border-blue-500 focus:border-blue-500 focus:bg-gray-900 transition-all duration-300 ease-out shadow-sm shadow-slate-800 focus:shadow-slate-950 focus:shadow-md placeholder-white placeholder-opacity-70 dark:bg-neutral-200 dark:text-black dark:placeholder-black dark:placeholder-opacity-60 dark:shadow-neutral-500",value:n,onChange:v=>{u(v.target.value),x()}}),e.jsx("button",{className:`absolute top-2 py-1.5 text-neutral-200 dark:text-zinc-950 ${o==="en"?"right-1 rounded-r-lg":"left-1 rounded-l-xl"}`,children:e.jsx(j,{className:"size-7"})})]}),a?e.jsx(b,{}):e.jsx(m.Items,{children:e.jsx(h,{"aria-label":"Sidebar with multi-level dropdown example",className:"[&>div]:bg-transparent [&>div]:p-0 w-64 mx-auto",children:e.jsx("div",{className:"flex h-full flex-col justify-between py-2 dark:bg-zinc-950",children:e.jsx("div",{children:e.jsx(h.Items,{children:e.jsx(h.ItemGroup,{children:e.jsx(B,{children:e.jsx(E,{})})})})})})})})]})})}function V(){const{setIsOpen:a}=c();return e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"bg-gray-950 bg-opacity-70 dark:bg-opacity-90 shadow-sm shadow-gray-500 mt-1 flex items-center justify-center relative",children:[e.jsx(_,{}),e.jsx("button",{className:" text-gray-200 hover:text-gray-300 mx-4",onClick:()=>a(!0),children:e.jsx(O,{className:"h-10 w-10"})})]}),e.jsxs("div",{className:"w-full mx-auto py-8 dark:bg-zinc-950 transition-all duration-300",children:[e.jsx("div",{className:"rounded-2xl shadow-3xl flex items-center flex-col flex-wrap p-5 max-w-[85%] mx-auto bg-neutral-100 dark:shadow-neutral-600",children:e.jsx($,{})}),e.jsx(D,{})]}),e.jsx(P,{})]})}function X(){return e.jsx(G,{children:e.jsx(I,{children:e.jsx(L,{children:e.jsx(V,{})})})})}export{X as default};
